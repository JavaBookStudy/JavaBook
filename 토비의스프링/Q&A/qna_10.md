# 10주차  

#### :bulb: 트랜잭션 속성을 등록하는 방법 2가지를 말해주세요 by 주연

--------

#### :bulb: 트랜잭션을 적용해야하는 대상을 알려주세요 by 주연


1.	CURD의 create 기능을 하는 메서드에 적용해야 한다. 트랜잭션 전파에 의해 이 create 메서드가 다른 트랜잭션에 참여할 가능성이 큼  
2.	쓰기 작업이 없는 단순한 조회 작업에 필요하다.   
읽기전용으로 속성을 설정하면, 성능이 향상되고 제한시간을 지정할 수 있다.  
또한 실수로 db에 접근하는 것을 막을 수 있다.  
--------


#### :bulb: 트랜잭션 속성 4가지가 무엇인지만 설명하세요. by 대연

- 트랜잭션 전파  
- 격리 수준  
- 제한 시간  
- 읽기 전용  

--------

#### :bulb: 트랜잭션 속성 중 격리 수준에 대하여 살명해주세요. by 대연

--------

#### :bulb: TransactionInterceptor에서 예외 처리를 할 때 가정으로 두는 원칙을 설명해주세요. by 대연


- 런타임 예외의 경우 트랜잭션은 롤백된다.  
- 체크 예외를 던지는 경우 비즈니스 로직에 따라서 개발자가 의도한 예외라고 해석하고 트랜잭션을 커밋해버린다.  

--------

#### :bulb: @Transactional 애너테이션의 부착 대상, 동작 방식, 대체 정책(fallback)에 대해 설명해주세요 by 대연

부착 대상은 타깃 메서드, 클래스, 인터페이스가 있습니다. 이미 정의된 트랜잭션 속성에 따라 해당 어노테이션이 붙여진 클래스/메서드의 트랜잭션을 실행시킵니다.  
대체 정책은 하위 클래스/메서드에 @Transactional 설정이 없거나, 있더라도 상위 @Transactional 설정보다 설정 범위가 넓을 경우, 상위 설정을 따라가는 것을 말합니다.  

--------

#### :bulb: 결제 시스템에서 결제 승인 작업을 수행할 때 여러 트랜잭션을 한 작업에서 수행합니다. 어떤 트랜잭션 전파(propagation)가 필요할까요? by 정수

--------

#### :bulb: 프록시 방식 aop에서는 같은 타깃 오브젝트 내의 메서드를 호출할 때는 프록시가 적용되지 않는데, 그 이유는? by 정수


aop에서는 같은 타깃 오브젝트 내의 메서드를 호출할 때라는 말은 즉, 타겟 오브젝트가 자기 자신의 메서드를 호출할 때는 부가기능의 적용이 일어나지 않는다는 뜻입니다.  
이는 원래 방식인 클라이언트로부터 메서드가 호출 될 시에, 프록시가 타겟 오브젝트 대신 호출당하고 트랜잭션을 적용한 뒤, 타겟 기능을 수행합니다.  
하지만, 타깃 오브젝트의 다른 메서드를 호출하는 경우네는 프록시를 거치지 않고 직접 타겟의 메서드가 호출되므로 프록시가 적용되지 않습니다.  
이를 해결하기 위해선 스프링 API를 이용하는 방법과 AspectJ를 이용하는 방법이 있다.  
스프링 api는 프록시 오브젝트에 대한 레퍼런스를 가져온 뒤에, 같은 오브젝트의 메서드 호출도 프록시를 이용하도록 강제하는 것이고, aspectJ는 타깃의 바이트 코드를 직접 조작하므로 프록시를 적용할 수 있습니다.   
--------
