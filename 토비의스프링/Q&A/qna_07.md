# 7주차  

#### :bulb: DummyMailSender의 효용성에 대하여 스프링 DI와 관련지어 설명해주세요 by.주연  
기존 JavaMail은 코드가 복잡하고, 따로 메일 서버가 없으면 테스트를 할 수 없었는데, JavaMail에 접근하는 MailSender라는 추상층(인터페이스)를 만들어 테스트가 가능하도록 했습니다.
테스트 할 때 사용하는 것이 DummyMailSender인데, MailSender의 구현체지만 메일 서버 없이도 메일을 보내는 것을 테스트 할 수 있도록 합니다.  
여기서 메일을 사용하는 클래스에 JavaMail이 아닌 MailSender로의 의존성을 주입함으로써 메일을 사용하는 클래스는 JavaMail에 직접적으로 의존하지 않게 됩니다.

--------

#### :bulb: Test Stub과 Test Double에 대하여 설명해주세요 by.주연

테스트 더블은 테스트 대역으로 번역됩니다.
Dummy - Fake - Stub - Mock으로 세부적으로 나눌 수 있습니다.
테스트 환경에서 테스트 대상이 되는 오브젝트의 기능을 충실하게 수행하면서 테스트를 자주 실행할 수 있도록 하는 오브젝트들을 테스트 대역(test double)이라고 한다.

테스트 스텁은 의존객체를 대체하면서 실질적으론 아무 일도 하지 않는 객체입니다.
DAO에 의존중인 Service를 테스트하고자 할 때, 실질적으로 DB와 통신을 하지 않도록 만들고 싶을 경우에 유용합니다.
단순히 DAO의 커넥션을 생성하지 않는 것으로는 DB와 통신을 하지 않으면서 로직만 관심사로 두는 테스트가 정상 수행되지 않기 때문입니다.


--------

#### :bulb: Application Context의 역할과 동작 방식을 설명해주세요. by 정수

스프링 애플리케이션 전반에 걸쳐 모든 구성요소의 제어 작업을 담당하는 IoC 엔진입니다.
즉, IoC 방식을 따라 만들어진 일종의 빈 팩토리입니다. 
빈 팩토리라고 말할 때는 빈을 생성하고 관계를 설정하는 IoC의 기본 기능에 초점을 맞춘 것이고, 애플리케이션 컨텍스트는 별도의 정보를 참고해서 빈의 생성, 관계설정 등의 제어를 총괄합니다. 
또한 싱글톤을 저장하고 관리하는 싱글톤 레지스트리이다. 스프링은 기본적으로 별다른 설정을 하지 않으면 내부에서 생성하는 빈 오브젝트를 모두 싱글톤으로 만든다.
ApplicationContext가 Bean을 가져오는 동작방식
1. ApplicationContext는 앞의 @Configure 가 붙은 DaoFactory 클래스를 설정정보로 등록해두고 @Bean이 붙은 메소드의 이름을 가져와 Bean 목록을 만든다.
2. 클라이언트가 ApplicationContext의 getBean메소드를 호출하면 Bean 목록에서 요청한 이름이 있는지 찾는다.
3. 있다면 Bean을 생성하는 메소드를 호출해서 오브젝트를 생성시킨 후 클라이언트에게 리턴해 준다. 

--------

#### :bulb: IoC가 무엇인지 설명해주세요. by 정수 

코드가 의존하는 오브젝트를 일반적으로 개발자가 작성한 코드가 흐름의 제어권을 가지는 경우가 아닌,
개발자의 코드를 컨테이너가 가져다 쓰며 의존 객체를 컨테이너가 결정하는 것을 IoC라고 합니다.

--------

#### :bulb: Mock 오브젝트에 대해 설명하고, 어디에 유용하게 쓸 수 있는지 설명해 주세요. by 대연   
Mock 오브젝트는 테스트 진행할 때 객체를 실제로 생성하기 어려울 경우 대신 사용하는 모의 객체라고 할 수 있습니다.  
Stub과 개념은 비슷하지만, 단순히 테스트 메서드에서 호출하는 메서드만 검사하는 것이 아니라 더 low-level의 메서드 작동까지 검사할 수 있습니다.  
spring에서 상위 service나 controller 수준의 메서드를 테스트할 때 사용하면 하위 레벨의 메서드를 확인하는 데 유용하게 쓸 수 있습니다.

--------

#### :bulb: 서비스 추상화의 의의와 그 방법을 불건전하게 설계된 JavaMail과 연관짓거나 혹은 기술의 관점에서 설명해주세요. by 대연 

JavaMail은 악명높은 API 설계로 추상화가 쉽게 가능하지 않습니다.
- Session은 인터페이스가 아닌 클래스다.
- 생성자가 private라서 직접 생성도 불가능하다.
- 상속도 불가능하게 final 한정자가 박혀있다.

그래서 Spring에서 제공하는 JavaMail 추상화 인터페이스를 이용합니다.
그리고 그 구현 클래스를 JavaMail을 사용하도록 구현하는 경우, 테스트 대역 역할을 하는 클래스와 실제 JavaMail 클래스를 쉽게 교체할 수 있고
테스트가 쉬우며 다른 메세징 API 서버를 이용하고자 할 때도 유용하게 이용할 수 있습니다.

--------

#### :bulb: 수동 DI의 설명과 장단점을 설명해 주세요. by 대연
빈을 통한 DI는 오브젝트 사이의 실제 의존관계가 설정 파일에 명확하게 드러난다는 것이라는 장점이 있다.
but 이는 또 구체적인 클래스와의 관계가 설정에 직접 노출되는 단점이 존재한다.

즉, 두 클래스 사이 관계가 노출되지 않지만, 싱글톤으로 사용이 불가하고, DI를 위한 추가 코드가 발생했다는 단점이 있다.

--------

#### :bulb: 템플릿 콜백 패턴을 설명해주세요. by 대연

--------

#### :bulb: TDD의 개념과 그 장점을 설명해 주세요. by 태현  
TDD는 테스트 주도 개발 방법론으로, 테스트 코드를 실제 개발 전에 작성하여 추후 개발되는 코드는 테스트를 통과하는 코드로 작성하도록 합니다.  
초기 테스트 코드 작성 비용이 크지만, 개발 과정에서 변경 사항이 발생할 경우마다 빠르게 테스트할 수 있습니다.

--------

#### :bulb: 템플릿 콜백 패턴에서 제네릭스를 사용하는 이유를 설명해 주세요. by 태현

타입과 관련없이 유연하게 템플릿이 콜백을 받아들일 수 있도록 사용합니다.
